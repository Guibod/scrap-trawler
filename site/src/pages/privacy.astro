---
import Layout from '../layouts/layout.astro'
---

<Layout title="Privacy Policy">
  <div class="relative flex flex-row-reverse gap-10">
    <!-- Flying TOC -->
    <aside class="hidden lg:block w-64 sticky top-20 self-start text-sm text-gray-700">
      <div class="border-l-4 border-yellow-400 pl-4">
        <h3 class="font-semibold text-yellow-700 mb-2">On this page</h3>
        <nav class="space-y-2 leading-relaxed">
          <a href="#intro" class="block hover:text-yellow-600">1. Introduction</a>
          <a href="#data" class="block">2. Data Collection</a>
          <a href="#permissions" class="block">3. Permissions</a>
          <a href="#sharing" class="block">4. Data Sharing</a>
          <a href="#security" class="block">5. Security</a>
          <a href="#control" class="block">6. User Control</a>
          <a href="#compliance" class="block">7. Compliance</a>
          <a href="#contact" class="block">8. Contact</a>
        </nav>
      </div>
    </aside>

    <!-- Main Content -->
    <article class="flex-1 prose prose-sm lg:prose-base max-w-none text-gray-800">
      <h1 class="text-3xl font-bold mb-2">Privacy Policy</h1>
      <p class="text-sm text-gray-500 mb-8">
        <strong>Effective Date:</strong> 2025-02-25 &middot; <strong>Last Updated:</strong> 2025-02-25
      </p>

      <section id="intro">
        <h2 class="text-xl mt-4">1. Introduction</h2>
        <p>
          Scrap Trawler is a browser extension built to assist Magic: The Gathering tournament organizers in extracting event data from Wizards EventLink.
          This Privacy Policy explains how Scrap Trawler handles user data and complies with Chrome Web Store policies.
        </p>
      </section>

      <section id="data">
        <h2 class="text-xl mt-4">2. Data Collection & Usage</h2>
        <p>
          Scrap Trawler does <strong>not collect, store, or transmit</strong> personal data outside your browser.
          All processing is local to your device.
        </p>
        <p>
          We process:
        </p>
        <ul class="list-disc pl-5">
          <li><strong>Tournament Data:</strong> registration, pairings, standings, drops, and penalties</li>
          <li><strong>Decklists & Metadata:</strong> linked by you via spreadsheets or third-party platforms</li>
          <li><strong>Storage:</strong> all data is stored in <code>chrome.storage.local</code></li>
        </ul>
      </section>

      <section id="permissions">
        <h2 class="text-xl mt-4">3. Permissions</h2>
        <p>The following browser permissions are used:</p>
        <ul class="list-disc pl-5">
          <li><code>activeTab</code> — used only when you click to activate Scrap Trawler</li>
          <li><code>cookies</code> — reads your EventLink session token for authenticated requests</li>
          <li><code>storage</code> — stores event data in your browser</li>
          <li><code>identity</code> — enables secure, browser-native OAuth to access your Google Drive files without storing your credentials</li>
          <li><code>https://eventlink.wizards.com/*</code> — allows reading EventLink pages</li>
        </ul>
      </section>

      <section id="sharing">
        <h2 class="text-xl mt-4">4. Data Sharing</h2>
        <p>
          Scrap Trawler <strong>does not share, sell, or transmit</strong> any data to third parties. All your data stays in your browser.
        </p>
      </section>

      <section id="security">
        <h2 class="text-xl mt-4">5. Security</h2>
        <ul class="list-disc pl-5">
          <li>The extension only activates on EventLink domains</li>
          <li>Authentication tokens are used in-session and never stored</li>
          <li>We do not access or store personally identifiable information (PII)</li>
        </ul>
      </section>

      <section id="control">
        <h2 class="text-xl mt-4">6. User Control</h2>
        <p>
          You can clear all stored data at any time from your browser settings. We don’t create user accounts or persistent profiles.
        </p>
      </section>

      <section id="compliance">
        <h2 class="text-xl mt-4">7. Compliance</h2>
        <p>
          Scrap Trawler complies with the
          <a href="https://developer.chrome.com/docs/webstore/program-policies/" target="_blank" rel="noopener noreferrer">
            Chrome Web Store Developer Program Policies
          </a>, using minimal permissions and zero telemetry.
        </p>
      </section>

      <section id="contact">
        <h2 class="text-xl mt-4">8. Contact</h2>
        <p>
          For questions or feedback, open an issue on
          <a href="https://github.com/Guibod/scrap-trawler/issues" target="_blank" rel="noopener noreferrer">
            GitHub
          </a>.
        </p>
      </section>
    </article>
  </div>
</Layout>
